# Combat Stats Module TODOs

## Current Tasks
- [x] Make Round Summary title match Notable Moments style
- [x] Move rank number to overlay player portrait
- [x] Replace CRITICAL/FUMBLE text with icons
- [x] Fix GM attribution for chat messages
- [x] Remove underline from MVP player name
- [x] Adjust MVP stats card styling to match Notable Moments
- [x] Rename "Notable Moments" to "Notable Party Moments"
- [x] Make fumble icon brighter red

## Timer Enhancements
- [ ] Verify timer tracking accuracy and consistency
- [ ] Add automatic timer start on token movement
- [ ] Add automatic timer start on attack initiation
- [ ] Add planning stage notes functionality
- [ ] Improve round start notifications and messaging

## Combat Leadership Features
- [ ] Implement combat leader designation system
- [ ] Add voting functionality for leader selection
- [ ] Create leader-specific UI elements and indicators
- [ ] Add leader-specific permissions or capabilities

## Real-Time Features
- [ ] Implement real-time Notable Moments notifications
- [ ] Add dynamic achievement announcements
- [ ] Create round start/end announcements
- [ ] Improve combat event messaging

## Documentation & Integration
- [ ] Expose and document Blacksmith API for Coffee Pub modules
- [ ] Add user guide
- [ ] Add configuration documentation
- [ ] Add developer documentation
- [ ] Add example screenshots

## Combat Journal & Statistics
- [ ] Implement combat session journal system
- [ ] Add combat statistics journal export
- [ ] Create comprehensive combat log functionality
- [ ] Add session summary generation
- [ ] Implement combat history browsing

## Future Improvements
- [ ] Add option to customize icon choices
- [ ] Add option to customize color scheme
- [ ] Add option to customize which stats are displayed
- [ ] Add option to customize card layouts
- [ ] Add combat session summaries
- [ ] Add player-specific stat tracking over multiple combats
- [ ] Add achievement system for notable performances
- [ ] Add comparison stats between rounds
- [ ] Add visual graphs/charts for damage/healing trends

## Bug Fixes Needed
- [ ] Ensure stats are only processed by GM
- [ ] Fix potential race conditions in stat tracking
- [ ] Handle edge cases in damage calculation
- [ ] Improve error handling for missing actor data

# TODO List

## High Priority

### Combat Timer Improvements
- ✅ Fix timing calculations for round duration
- ✅ Implement pause/resume functionality
- ✅ Add active time tracking
- ✅ Integrate with combat stats system
- Add option to customize timer appearance
- Add sound customization for timer events

### Planning Phase
- ✅ Add dedicated planning timer
- ✅ Implement pause/resume for planning phase
- ✅ Track planning phase duration accurately
- Add planning phase notes system
- Add planning phase strategy templates

### Combat Stats
- ✅ Fix round duration calculations
- ✅ Implement accurate turn timing
- ✅ Add notable moments tracking
- ✅ Improve MVP calculation
- ✅ Add party performance metrics
- Add export functionality for combat stats
- Add combat history browser

## Medium Priority

### UI Enhancements
- ✅ Improve round summary display
- ✅ Add visual progress indicators
- ✅ Enhance notable moments presentation
- Add customizable themes
- Add icon customization options
- Add layout configuration options

### Performance Optimizations
- ✅ Optimize timing calculations
- ✅ Improve data structure efficiency
- ✅ Enhance error handling
- Add data caching system
- Implement batch processing for stats
- Unify debug logging system across all modules

### Integration Features
- ✅ Add API endpoints for module communication
- ✅ Implement reliable data exchange
- Add integration guides
- Create example implementations
- Add module compatibility checks

## Low Priority

### Quality of Life
- Add combat session export
- Add statistics backup system
- Add user preferences panel
- Add keybind customization
- Add macro support

### Documentation
- ✅ Update README with new features
- ✅ Document API endpoints
- ✅ Add configuration guide
- Add troubleshooting guide
- Add example screenshots
- Create video tutorials

### Future Features
- Multi-combat analysis tools
- Cross-session statistics
- Achievement system
- Combat replay system
- AI-powered insights

## Bugs to Fix

### Timer Issues
- ✅ Fix pause/resume timing accuracy
- ✅ Fix round duration calculations
- ✅ Fix planning phase timing
- ✅ Fix turn duration tracking
- Investigate rare timer desync issues

### Stats Issues
- ✅ Fix MVP calculation edge cases
- ✅ Fix party stats aggregation
- ✅ Fix notable moments tracking
- Investigate data persistence issues
- Fix rare stat reset issues

### UI Issues
- ✅ Fix progress bar rendering
- ✅ Fix notification timing
- ✅ Fix template rendering issues
- Fix theme switching bugs
- Fix layout responsiveness issues
