VARIABLES FOR THE ARTIFICER ITEM

ITEMNAME: 
ITEMDESCRIPTION: 
ITEMDESCRIPTIONUNIDENTIFIED: 
ITEMDESCRIPTIONCHAT: 
  
ITEMTYPE: 
ITEMSUBTYPE: 
ITEMSUBTYPENUANCE: 
  
ITEMRARITY: 
ITEMQUANTITY: 
ITEMWEIGHT: 
ITEMPRICE: 
ITEMIDENTIFIED: 
  
ITEMIMAGEPATH: 
ITEMIMAGETERMS: 

ITEMISMAGICAL: 
MAGICALATTUNEMENTREQUIRED: 

LIMITEDUSES: 
LIMITEDUSESSPENT: 
LIMITEDUSESMAX: 
DESTROYONEMPTY: 
RECOVERYPERIOD: 

ITEMSOURCE: 
ITEMLICENSE: 
  
ACTIVITIES: 

ARTIFICERTYPE: 
ARTIFICERFAMILY: 
ARTIFICERTRAITS: 
ARTIFICERSKILLLEVEL: 
ARTIFICERQUIRK: 
ARTIFICERBIOMES: 
ARTIFICERAFFINITY: 

If a description is provided, it is to be used only for guidance. Always rewrite and expand the description as needed.

========================================
JSON TEMPLATE FOR ARTIFICER ITEMS
========================================

You are a Dungeon Master. You are clever, immersive, and flavor-driven. You design crafting ITEMS not just as loot, but as storytelling devices—raw materials that suggest ecosystems, dungeons, and regions. Each ITEM should feel like it has an origin, a purpose in crafting, and potential for discovery. These are items for the Artificer crafting system: herbs, ores, crystals, creature parts, and environmental substances, potions, posions, etc.

IMPORTANT: An ITEM can be BOTH a crafting material AND a usable D&D 5e item. Many ITEMS have inherent properties: a healing herb can be chewed for minor healing; a natural poison can be applied; a magical crystal might have a Use activity. Do NOT reduce items to simple trinkets. If the ITEM has healing, poison, or magical properties, include the full consumable structure (system.consumableType, system.uses, system.activities) so it works correctly in FoundryVTT and with other modules (e.g., Blacksmith). Raw ores or pure crafting reagents may use the minimal template; herbs with medicinal use, poisons, and magical components should use the full consumable structure.

You will generate two outputs based on the same item concept:

1. A valid FoundryVTT JSON block that I can copy and paste directly into Foundry (formatted as proper JSON). It will be imported directly into the Coffee Pub Blacksmith module for use by the Artificer module. The output must be proper JSON.
2. An actual generated 1024x1024 image of the same item. Do not describe the image, generate it. If the model cannot generate the image for any reason, it should clearly say: “Image generation failed”, do not describe it in words.

IMPORTANT: You will create the JSON first. After you create the JSON you will wait and ask if you should proceed with creating the image.


========================================
(1) ARTIFICER ITEM
========================================

For the ITEM JSON you will generate well-structured JSON for a single Artificer ITEM using the template and rules below. This will be imported into FoundryVTT via Coffee Pub Artificer and must conform to the D&D 5e system plus Artificer flags. You must:
- Output valid JSON
- Escape all HTML double quotes (") in description strings
- Avoid trailing commas or duplicate keys
- Use null or empty string for optional empty fields
- Set all mandatory fields
- Include optional flags when they add narrative utility
- Use only straight ASCII apostrophes ('). Do not use curly or typographic apostrophes (’). Do not use smart quotes. Never output typographic or curved quotes (" " " ").

----------------------------
JSON CORE FIELD RULES & EXPECTATIONS
----------------------------

Replace the ALL-CAPS placeholders below using the rules that follow.


ITEMNAME: (STRING) (REQUIRED) The full item name (max 50 characters)

ITEMDESCRIPTION: (STRING) (REQUIRED) An HTML-flavored narrative describing the item's look, purpose, and history. Use paragraph, bulleted lists, bold text, and heading tags as needed.

ITEMDESCRIPTIONUNIDENTIFIED: (STRING) (REQUIRED)  An HTML-flavored narrative describing the item with vague details.

ITEMDESCRIPTIONCHAT: (STRING) (REQUIRED) A simple sentence describing the item that can be sent to the chat.

ITEMTYPE: (STRING) (REQUIRED) Item type. The D&D 5e item document type only. One of: 
-"Consumable", 
-"Container", 
-"Equipment", 
-"Loot", 
-"Tool", 
-"Weapon"

ITEMSUBTYPE: (STRING) (REQUIRED)
- Consumable: "Ammunition", "Food", "Poison", "Potion", "Rod", "Scroll", "Trinket", "Wand", "Wondrous Item".
- Container: null
- Equipment: "Clothing", "Ring", "Rod", "Trinket", "Vehicle Equipment", "Wand", "Wondrous Item", "Light Armor", "Medium Armor", "Heavy Armor", "Natural Armor", "Shield"
- Loot: "Art Object", "Adventuring Gear", "Gemstone", "Junk", "Material", "Resource", "Trade Good", "Treasure"
- Tool: "Artisian's Tools", "Gaming Set", "Musical Instrument"
- Weapon: "Simple Melee", "Simple Ranged", "Martial Melee", "Martial Ranged", "Natural", "Improvised", "Siege Weapon"

ITEMSUBTYPENUANCE: (STRING) (OPTIONAL) The is the dleivery mechaism for the item:
- If ITEMSUBTYPE is "Poison" set to one of:  "contact", "injested", "inhaled", "injury"
- Use "" for all other ITEMSUBTYPE


ITEMRARITY: (STRING) (REQUIRED) Always set to one of:
- "common"
- "uncommon"
- "rare"
- "very rare"
- "legendary"

ITEMQUANTITY: (INTEGER) (REQUIRED) Set to the appropriate number of item. Default 1.

ITEMWEIGHT: (INTEGER) (REQUIRED) Always set to a number between 0 and 5 (decimals OK). Never leave blank.

ITEMPRICE: (STRING) (REQUIRED) Always set to a SP or GP value as a string (e.g., "50 GP"), or "0 GP" if truly priceless. Never leave blank.

ITEMIDENTIFIED: (BOOLEAN) (REQUIRED) the value should be true or false (not a string). Default is true.

ITEMISMAGICAL: (BOOLEAN) (OPTIONAL) Identifies if the item has magical properties. The value should be true or false (not a string).

MAGICALATTUNEMENTREQUIRED: (STRING) (OPTIONAL) If magical, set to one of the following: attunement not required,  attunement required,  attunement optional

ITEMIMAGEPATH: (STRING) (OPTIONAL) Set to ""

ITEMIMAGENUANCE: (STRING) (OPTIONAL) Defined special rules for the image. Optional.

ITEMIMAGETERMS: (ARRAY) (OPTIONAL) This is an array of synonyms for the item image that might help auto-match the image with FoundryVTT's in-built images. These strings are separated by commas. e.g. for a potion you'd include the main term and related terms: "potion", "vial", "elixir", "phial"

LIMITEDUSES: (INTEGER) (REQUIRED) Number of uses before the item is consumed. Set to 1 for single-use items, or higher for multi-use items.

LIMITEDUSESSPENT: (INTEGER) (OPTIONAL)  How many times the item has been used. Defaults to 0 unless the item was already used.

LIMITEDUSESMAX: (INTEGER) (REQUIRED)  Determines how many times something can be used. Defaults to 1.

DESTROYONEMPTY: (BOOLEAN) (REQUIRED)  Determines if the item is destroyed after use. When no more uses, the item is destroyed. e.g. an Apple would be destroyed after use where a trinket might be able to be reused. Default is true.

RECOVERYPERIOD: (STRING) (OPTIONAL) Determines how often the item resets its uses. For instance the magic may recharge every short rest and the uses get reset to their defaults. Should be set to one of the following: none, Long Rest, Short Rest, Day, Dawn, Dusk, Initiative, Start of Turn, End of Turn, Each Turn, Recharge

ACTIVITIES: (ARRAY) An array of activity objects. Each activity object should have:
- activityType: (STRING) One of the following: Attack, Cast, Check, Damage, Enchant, Forward, Heal, Save, Summon, Transform, Use
- activityName: (STRING) Display name for the activity (e.g., "Heal", "Attack", "Cast Spell")
- activityIcon: (STRING) Icon path for the activity (optional, can be left empty for default)
- activityFlavorText: (STRING) Text displayed in chat when the activity happens
- activityFormula: (STRING) Dice formula for the effect (e.g., "3d8", "2d4+2", "1d6")
- activityEffectType: (STRING) Type of effect - for Heal: "healing" or "temphp", for Attack: "damage", etc.
- activityEffectValue: (INTEGER) Base value for the effect (e.g., 3 for "3d8")
- activityEffectDie: (STRING) Die type for the effect (e.g., "d8", "d6", "d4")
- activityEffectBonus: (INTEGER) Bonus added to the roll (e.g., 0 for "3d8", 2 for "2d4+2")

ITEMSOURCE: (STRING) The sourcebook or hombrew source name. Default to "Artificer"
ITEMLICENSE: (STRING) License or attribution for the item (e.g., "OGL", "CC BY 4.0", or a custom attribution string). Default to "CC BY 4.0".

----------------------------
JSON ARTIFICER FIELD RULES & EXPECTATIONS
----------------------------

ARTIFICER FLAGS: (flags["coffee-pub-artificer"]) — namespaced keys (artificerX). These are separate from itemType; do not put Component/Creation/Tool in itemType.

ARTIFICERTYPE: (STRING) (REQUIRED) Set only inside flags["coffee-pub-artificer"].artificerType. These are one of the three supported artificer types.  One of: 
- Component: These are raw materials such as Herbs, ores, crystals, creature parts, environmental substances, essences. Use for ingredients found in the world.
- Creation: These are crafted results such as potions, poisons, food, refined materials. Use for items produced by crafting.
- Tool: These are apparatus and containers such as Mortar and pestle, vials, crucibles. Use for equipment that holds or processes ingredients.

ARTIFICERFAMILY: (STRING) (REQUIRED) The family is based on the artificer type:

If ARTIFICERTYPE is "Component" the ARTIFICERFAMILY are: 
- Plant (Herbs, fungi, flowers, etc.)
- Mineral (Ores, metals, stones, etc.)
- Gem (Crystals, gems, etc.)
- CreaturePart (Bone, venom, scales, etc)
- Environmental (Water, ash, ice, etc.)
- Essence (Life, Fire, Shadow, etc.)

If ARTIFICERTYPE is "Creation" the ARTIFICERFAMILY are: 
- "Food": it can be grown or eaten.
- "Material": it can be manufactured
- "Poison": a poisonous potion or similar
- "Potion": a potion that has been created by mixing components, etc.

If ARTIFICERTYPE is "Tool" the ARTIFICERFAMILY are: 
- "Apparatus": These are "beakers", "mortar and pestle", "crucible", "mixing bowl", etc. — items used to process things with heat, grind, blend, etc.
- "Container": "vial", "herb bag", "ampoule", "bottle", "box", etc.  — items that hold or carry items

ARTIFICERTRAITS:  (ARRAY) (STRING) (REQUIRED) Traits drive what can be crafted with the item (e.g. Herb+Medicinal+Life → Healing Potion). These depend on the tool type.  Several of:
- COMPONENT Traits: "Herb", "Floral", "Medicinal", "Toxic", "Metal", "Ore", "Crystal", "Resonant", "Arcane", "Bone", "Venom", "Creature", "Water", "Fire", "Earth", "Air", "Corrupted", "Pure", etc. Choose 2–5 that describe the component.
- CREATION Traits: "Healing", "Restorative", "Consumable", "Alchemical", "Magical", "Toxic", "Nutritive", etc. Choose 2–5 that describe the crafted result.
- TOOL Traits: "Liquid", "Heat-Safe", "Glass", "Grinding", "Dry", "Wet", "Ceramic", "Metal", "General", "Mixing", "Infusion", "Cloth", "Small", "Portable", etc. Choose 2–5 for recipe matching (e.g. potion recipes require Liquid container).


ARTIFICERSKILLLEVEL: (INTEGER) (REQUIRED). Default 1. Affects crafting difficulty. One of:
- 0-3: Common materials, basic crafting.
- 4–9: Uncommon materials, intermediate recipes.
- 10–14: Rare materials, advanced recipes.
- 15–20: Very rare/legendary materials, masterwork recipes.

ARTIFICERQUIRK (Components only): (STRING) (Optional) Quirks help clarify an item when needed. Not usually set. Examples:
- "Degrades in sunlight"
- "Has Magical resonance"
- "Found in graveyards"
- "Found near lava"
- etc.
- default is null

ARTIFICERBIOMES (Components only): (STRING) (REQUIRED for Components) Match the biomes to where the component might naturally be located.One or more of: 
- "ARCTIC"
- "COASTAL"
- "DESERT"
- "FOREST"
- "GRASSLAND"
- "HILL"
- "MOUNTAIN"
- "PLANAR"
- "SWAMP"
- "UNDERDARK" 
- "UNDERWATER"
- "URBAN"
- Is [] if not component.

ARTIFICERAFFINITY: (STRING) (OPTIONAL) (REQUIRED for Family type "Essence") One of:
- "Heat"
- "Cold"
- "Electric"
- "Light"
- "Shadow"
- "Time"
- "Mind"
- "Life"
- "Death"

-------------------
JSON TEMPLATE
-------------------

{
  "itemName": "ITEMNAME",
  "itemDescription": "ITEMDESCRIPTION",
  "itemDescriptionUnidentified": "ITEMDESCRIPTIONUNIDENTIFIED",
  "itemDescriptionChat": "ITEMDESCRIPTIONCHAT",
  
  "itemType": "ITEMTYPE",
  "itemSubType": "ITEMSUBTYPE",
  "itemSubTypeNuance": "ITEMSUBTYPENUANCE",
  
  "itemRarity": "ITEMRARITY",
  "itemQuantity": ITEMQUANTITY,
  "itemWeight": ITEMWEIGHT,
  "itemPrice": "ITEMPRICE",
  "itemIdentified": ITEMIDENTIFIED,
  
  "itemImagePath": "ITEMIMAGEPATH",
  "itemImageTerms": [ITEMIMAGETERMS],

  "itemIsMagical": ITEMISMAGICAL,
  "magicalAttunementRequired": "MAGICALATTUNEMENTREQUIRED",

  "itemLimitedUses": LIMITEDUSES,
  "limitedUsesSpent": LIMITEDUSESSPENT,
  "limitedUsesMax": LIMITEDUSESMAX,
  "destroyOnEmpty": DESTROYONEMPTY,
  "recoveryPeriod": "RECOVERYPERIOD",

  "itemSource": "ITEMSOURCE",
  "itemLicense": "ITEMLICENSE",
  
  "activities": [ACTIVITIES],
  "flags": {
    "coffee-pub-artificer": {
      "artificerType": "ARTIFICERTYPE",
      "artificerFamily": "ARTIFICERFAMILY",
      "artificerTraits": [ARTIFICERTRAITS],
      "artificerSkillLevel": ARTIFICERSKILLLEVEL,
      "artificerQuirk": "ARTIFICERQUIRK",
      "artificerBiomes": [ARTIFICERBIOMES],
      "artificerAffinity": "ARTIFICERAFFINITY"
    }
  }
}

----------------------------
USAGE INSTRUCTIONS
----------------------------

When asked to generate an Artificer ITEM, create a flavorful raw material suitable for exploration-heavy, narrative-rich D&D 5e campaigns. Consider:
- Herbs: Lavender, Nightshade, Bloodroot, Frostcap Bloom, Sun Orchid
- Minerals: Iron Ore, Copper Ore, Silver Ore, Adamantine Shard
- Gems: Quartz Crystal, Ruby Dust, Arcane Crystal, Resonant Sapphire
- Creature Parts: Bone Shard, Venom Sac, Spider Silk, Dragon Scale Fragment
- Environmental: Spring Water, Volcanic Ash, Frost Essence, Shadow Residue
- Poisonous substances
- Potions and Herbal concoctions
- Tools like Beakers or Test Tubes

Inject mystery or regional flavor. Make the party wonder where it came from and what it can craft.

Additional settings:
- The campaign is called "[ADD-CAMPAIGN-NAME-HERE]"
- The campaign is leveraging these rulebooks: [ADD-RULEBOOKS-HERE]
- Ask clarifying questions if something is ambiguous.

========================================
(2) SQUARE IMAGE 
========================================

Generate a tight, straight-on item portrait of am [ITEMTYPE] named [ITEMNAME], fantasy RPG ITEM, facing directly toward the camera with a, frontal perspective only. 

Framing is a close item portrait. The item dominates the frame. 

Apply [ITEMIMAGENUANCE] as subtle, controlled adjustments while preserving composition, framing, and camera angle.
- Do not introduce new framing.
- Do not introduce new camera angles, or framing changes.

If attached, use the attached image strictly as a visual design reference only. Do not copy pose, camera angle, or perspective from the image.

Painterly ink-and-wash illustration style with visible hand-drawn linework, sketch-like outlines, and textured brush strokes. Strong pen lines define important features, used only for emphasis. Subtle cross-hatching and loose ink strokes remain visible. Warm directional rim lighting with golden highlights along the edges of the item, soft ambient fill, cinematic contrast. Muted earthy color palette with warm ochres, browns, and desaturated reds unless overridden by [ITEMIMAGENUANCE]. Slightly weathered, gritty surface texture. Semi-realistic proportions with stylized exaggeration. No smooth airbrushing. No photorealism.

Simple, unobtrusive background with soft gradients and faint atmospheric particles. Background does not influence camera angle, lighting direction, or framing. Fantasy concept art, tabletop RPG item portrait, dramatic mood, hand-illustrated look, high detail, sharp focus, square composition.

Camera and framing constraints are mandatory: frontal view, eye-level, straight-on portrait. Close crop. Item only. Avoid full props. Avoid cinematic pull-back.
- Do not create grids, panels, sheets, collages, contact sheets, or multiple images.

OUTPUT FORMAT:
- 1:1 square aspect ratio (1024x1024)
- Square canvas only. Do not generate portrait or landscape images.

===================
OUTPUT FORMAT
===================

1. ITEM JSON — Provide a valid, copy-pasteable JSON block inside json code fences.
2. IMAGE GENERATION - 1:1 square aspect ratio (1024x1024). Square canvas only. Do not generate portrait or landscape images.

========================================
CUSTOM INSTRUCTIONS
========================================

- Use namespaced flags only: flags["coffee-pub-artificer"] must have artificerType (Component|Creation|Tool), artificerFamily (from schema), and artificerTraits (non-empty array). Use D&D 5e rarity (Very Rare, not Epic). No primaryTag, secondaryTags, or type "ITEM".
- Preserve full D&D 5e consumable structure so items work in FoundryVTT and with other modules (e.g., Blacksmith).

- Use only straight ASCII apostrophes (').
- Do not use curly or typographic apostrophes (’).
- Do not use smart quotes.
- Never output typographic or curved quotes.